<!doctype html>
<meta charset=utf-8>
<style>
	@font-face {
		font-family: 'Twemoji';
		src: url("./build/Twemoji.otf?1342346") format('opentype');
		font-display: block;
		font-weight: bold; font-weight: 100 900;
	}
	.lightbox {
		display: grid;
		grid-template-areas: "a";
	}
	.lightbox > * {
		grid-area: a;
		background: white;
	}
	.lightbox > .text {
		line-height: 1.125em;
		margin-left: -0.03125em;
	}
	.lightbox > :last-child {
		mix-blend-mode: difference;
	}
</style>ğŸ‘©ğŸ¾â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ¾ 

ğŸ§‘ğŸ½â€ğŸ¤â€ğŸ§‘ğŸ»


<p style='font-family:Twemoji;'>
	<table border style='font-family:segoe ui emoji'>
		<tr>
	<td>ğŸ‘©â€â¤ï¸â€ğŸ‘©
	<td>ğŸ‘©â€â¤ï¸â€ğŸ§‘
	<td>ğŸ‘©â€â¤ï¸â€ğŸ‘¨<tr>
	<td>ğŸ§‘â€â¤ï¸â€ğŸ‘©
<td>	ğŸ§‘â€â¤ï¸â€ğŸ§‘
	<td>ğŸ§‘â€â¤ï¸â€ğŸ‘¨<tr>
<td>	ğŸ‘¨â€â¤ï¸â€ğŸ‘©
<td>	ğŸ‘¨â€â¤ï¸â€ğŸ§‘
	<td>	ğŸ‘¨â€â¤ï¸â€ğŸ‘¨
		</table>
	<table border>
		<tr>
	<td>ğŸ‘©â€â¤ï¸â€ğŸ‘©
	<td>ğŸ‘©â€â¤ï¸â€ğŸ§‘
	<td>ğŸ‘©â€â¤ï¸â€ğŸ‘¨<tr>
	<td>ğŸ§‘â€â¤ï¸â€ğŸ‘©
<td>	ğŸ§‘â€â¤ï¸â€ğŸ§‘
	<td>ğŸ§‘â€â¤ï¸â€ğŸ‘¨<tr>
<td>	ğŸ‘¨â€â¤ï¸â€ğŸ‘©
<td>	ğŸ‘¨â€â¤ï¸â€ğŸ§‘
	<td>	ğŸ‘¨â€â¤ï¸â€ğŸ‘¨
		</table>
	E12.1 people holding hands: medium skin tone, medium-dark skin tone
1F9D1 1F3FD 200D 1F91D 200D 1F9D1 1F3FF                ; fully-qualified     # ğŸ‘¨ğŸ½â€ğŸ¤â€ğŸ§‘ğŸ¿ E12.1 people holding hands: medium skin tone, dark skin tone
1F9D1 1F3FE 200D 1F91D 200D 1F9D1 1F3FB                ; fully-qualified     # ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ» E12.0 people holding hands: medium-dark skin tone, light skin tone
1F9D1 1F3FE 200D 1F91D 200D 1F9D1 1F3FC                ; fully-qualified     # ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ¼ E12.0 people holding hands: medium-dark skin tone, medium-light skin tone
1F9D1 1F3FE 200D 1F91D 200D 1F9D1 1F3FD                ; fully-qualified     # ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ½ qwe<br>ğŸ‹â€ğŸŸ©abc<br>def</p>
<textarea style='font-family: Twemoji;'>
	# Twemoji's nonstandard emojis

# Shibuya
E50A                                                   ; fully-qualified     # î”Š E0.0 Shibuya

# Skier skin color variations
26F7 1F3FB                                             ; fully-qualified     # â›·ğŸ» E0.0 skier: light skin tone
26F7 1F3FC                                             ; fully-qualified     # â›·ğŸ¼ E0.0 skier: medium-light skin tone
26F7 1F3FD                                             ; fully-qualified     # â›·ğŸ½ E0.0 skier: medium skin tone
26F7 1F3FE                                             ; fully-qualified     # â›·ğŸ¾ E0.0 skier: medium-dark skin tone
26F7 1F3FF                                             ; fully-qualified     # â›·ğŸ¿ E0.0 skier: dark skin tone

# PersonInSuitLevitating gender variants
# less qualified variants were inferred from emojis with similar behavior like "â›¹"
# (twitter itself only supports the fully qualified versions listed here)
1F574 FE0F 200D 2642 FE0F                              ; fully-qualified     # ğŸ•´ï¸â€â™‚ï¸ E0.0 man in suit levitating
1F574 200D 2642 FE0F                                   ; unqualified         # ğŸ•´â€â™‚ï¸ E0.0 man in suit levitating
1F574 1F3FB 200D 2642 FE0F                             ; fully-qualified     # ğŸ•´ğŸ»â€â™‚ï¸ E0.0 man in suit levitating: light skin tone
1F574 1F3FC 200D 2642 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¼â€â™‚ï¸ E0.0 man in suit levitating: medium-light skin tone
1F574 1F3FD 200D 2642 FE0F                             ; fully-qualified     # ğŸ•´ğŸ½â€â™‚ï¸ E0.0 man in suit levitating: medium skin tone
1F574 1F3FE 200D 2642 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¾â€â™‚ï¸ E0.0 man in suit levitating: medium-dark skin tone
1F574 1F3FF 200D 2642 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¿â€â™‚ï¸ E0.0 man in suit levitating: dark skin tone

1F574 FE0F 200D 2640 FE0F                              ; fully-qualified     # ğŸ•´ï¸â€â™€ï¸ E0.0 woman in suit levitating
1F574 200D 2640 FE0F                                   ; unqualified         # ğŸ•´â€â™€ï¸ E0.0 woman in suit levitating
1F574 1F3FB 200D 2640 FE0F                             ; fully-qualified     # ğŸ•´ğŸ»â€â™€ï¸ E0.0 woman in suit levitating: light skin tone
1F574 1F3FC 200D 2640 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¼â€â™€ï¸ E0.0 woman in suit levitating: medium-light skin tone
1F574 1F3FD 200D 2640 FE0F                             ; fully-qualified     # ğŸ•´ğŸ½â€â™€ï¸ E0.0 woman in suit levitating: medium skin tone
1F574 1F3FE 200D 2640 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¾â€â™€ï¸ E0.0 woman in suit levitating: medium-dark skin tone
1F574 1F3FF 200D 2640 FE0F                             ; fully-qualified     # ğŸ•´ğŸ¿â€â™€ï¸ E0.0 woman in suit levitating: dark skin tone

1F574 FE0F 200D 2642                                   ; minimally-qualified # ğŸ•´ï¸â€â™‚ E0.0 man in suit levitating
1F574 200D 2642                                        ; unqualified         # ğŸ•´â€â™‚ E0.0 man in suit levitating
1F574 1F3FB 200D 2642                                  ; minimally-qualified # ğŸ•´ğŸ»â€â™‚ E0.0 man in suit levitating: light skin tone
1F574 1F3FC 200D 2642                                  ; minimally-qualified # ğŸ•´ğŸ¼â€â™‚ E0.0 man in suit levitating: medium-light skin tone
1F574 1F3FD 200D 2642                                  ; minimally-qualified # ğŸ•´ğŸ½â€â™‚ E0.0 man in suit levitating: medium skin tone
1F574 1F3FE 200D 2642                                  ; minimally-qualified # ğŸ•´ğŸ¾â€â™‚ E0.0 man in suit levitating: medium-dark skin tone
1F574 1F3FF 200D 2642                                  ; minimally-qualified # ğŸ•´ğŸ¿â€â™‚ E0.0 man in suit levitating: dark skin tone

1F574 FE0F 200D 2640                                   ; minimally-qualified # ğŸ•´ï¸â€â™€ E0.0 woman in suit levitating
1F574 200D 2640                                        ; unqualified         # ğŸ•´â€â™€ E0.0 woman in suit levitating
1F574 1F3FB 200D 2640                                  ; minimally-qualified # ğŸ•´ğŸ»â€â™€ E0.0 woman in suit levitating: light skin tone
1F574 1F3FC 200D 2640                                  ; minimally-qualified # ğŸ•´ğŸ¼â€â™€ E0.0 woman in suit levitating: medium-light skin tone
1F574 1F3FD 200D 2640                                  ; minimally-qualified # ğŸ•´ğŸ½â€â™€ E0.0 woman in suit levitating: medium skin tone
1F574 1F3FE 200D 2640                                  ; minimally-qualified # ğŸ•´ğŸ¾â€â™€ E0.0 woman in suit levitating: medium-dark skin tone
1F574 1F3FF 200D 2640                                  ; minimally-qualified # ğŸ•´ğŸ¿â€â™€ E0.0 woman in suit levitating: dark skin tone

</textarea>
<br>-->
<div style='font-family: Twemoji;font-size:160px;width:1.125em;height:1.125em;' class='lightbox'>
	<div class='text' id=$text>ğŸ‡</div>
	<img id=$image style='width:1.125em;height:1.125em' src="./twemoji/assets/svg/1f387.svg" width=36 height=36>
</div>
<script src='./data/edata.js'></script>
<div style='font-family:twemoji;word-spacing: 7.5px;line-height: 54px;font-size:32px;margin:16px;'>
	<h1>ğŸ‡ºğŸ‡³</h1>
<script>
	let s = ""
	for (let x of EDATA) {
		s += "<div class=item>"
		for (let n of x) {
			let cls = []
			if (n.ext) {
				if (n.ext.gender != undefined) {
					cls.push(...[0,1,2].filter(x=>x!=n.ext.gender).map(x=>"g"+x))
					//continue
				}
				if (n.ext.skin != undefined) {
					cls.push(...[0,1,2,3,4,5].filter(x=>x!=n.ext.skin).map(x=>"s"+x))
					///continue
				}
			}
			s += "<span class='"+cls.join(" ")+"'>"+n.emoji+"</span>"
		}
		if (x.emoji) {
			
		}
		s += "</div>"
	}
	document.write(s)
	
	function load(ident) {
		let thing = EDATA.find(x=>x.ident==ident)
		$text.textContent = String.fromCodePoint(...thing.codes)
		$image.src = `./twemoji/assets/svg/${thing.file}.svg`
	}
	load('ShakingFace')
</script>
</div>

lists:

ok so what we want to do is
parse the emoji test file, and
the types we can encounter are:
simple emojis (not part of any variation set)
person emojis (have gender/skin variants (up to 18))
 - group these together
couple emojis (have some required combinations, but could support up to 18^2)
 - remove these from the main list
 - must keep the legacy single-character forms (and their skin tone modified versions) as glyphs though, for decomposition and for environments which don't support ligatures (only need visuals for the unmodified ones though)
family emojis (could allow something like 18^4 + 18^3 + 18^3 + 18^2 or more variants, but is being deprecated, so we only have like 5 simple variants, effectively)
- the future of these is unclear (e.g. many fonts have not made the commitment to merge these yet)
- i suspect a compromise will be reached, where the icon forms will have some kind of gender indicators in them to avoid loss of information
- 4 scenarios:
-- 1: turn all family emojis into abstract symbols, with just 4 distinct glyphs: (ğŸ§‘â€ğŸ§‘â€ğŸ§’, ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’, ğŸ§‘â€ğŸ§’, ğŸ§‘â€ğŸ§’â€ğŸ§’) (all the old gendered ones are displayed as these)
--- jdecked twemoji does this, and it's what unicode emoji 15.1 officially recommends iirc
-- 2: bring back the old designs from before 15.1, but build them from components like we do with couples, to support full combinations of gender and skin tones
--- windows 11 emoji does this
-- 3: use the new abstract symbols, but add gender indicators (like, silouette of hair) to avoid loss of information
--- google noto color emoji does this
-- 4: don't support any family emoji ligatures (so they just render as separate person emojis), only including a glyph for the single-character ğŸ‘ª symbol
i think #3 is the best, because it avoids stripping information from emojis that are currently in use, while still using the new abstract designs which are easier to read and don't need to support skin color variants which would be impractical
EXCEPT
that it has the same problem as the couples emojis: you can't mix gendered and ungendered people (e.g. you can combine man+woman+boy, and adult+adult+child, but not man+woman+child. they have to be all gendered or all ungendered)
(though of course, you can solve this in the same way as with couples emojis)
i dont really want to be editing glyphs though.. but colors would be nice.

country flag emojis (using regional indicators)
subdivision flag emojis (using tag letters. supports extensions)
regional indicators (pseudo-emojis, rendered as such)
